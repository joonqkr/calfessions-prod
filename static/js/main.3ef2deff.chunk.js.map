{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/topbar/Logout.jsx","components/post/Post.jsx","components/share/Share.jsx","components/feed/Feed.jsx","components/topbar/Searchbar.jsx","components/topbar/Topbar.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","components/sidebar/Sidebar.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","following","filter","profilePicture","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","UserLogout","logout","clear","window","location","href","onClick","this","Component","Post","post","useState","likes","length","setLikes","isLiked","setIsLiked","setUser","currentUser","useContext","includes","_id","fetchUser","a","axios","get","userId","res","data","likeHandler","put","console","log","nameToIcon","Map","FaBook","BsFillPeopleFill","FaBasketballBall","BsHouseDoorFill","FaHeart","BiDish","FaPlane","GiPartyPopper","IoEarSharp","BsPenFill","MdWaterDrop","GiTeapot","BsStars","ImSad2","BsThreeDots","className","tags","map","tag","index","tagInfo","Icon","returnTag","format","createdAt","description","Share","useRef","name","isChecked","listOfItems","setListOfItems","submitHandler","e","preventDefault","tagArray","forEach","tagObject","push","newPost","current","reload","itemIndex","newsChecked","updatedListOfItems","updateListOfItems","placeholder","ref","onSubmit","item","qs","require","Feed","props","posts","setPosts","fetchPosts","username","params","paramsSerializer","arrayFormat","sort","p1","p2","Date","p","Searchbar","makeStyles","input1","height","useStyles","TextField","id","variant","size","margin","style","fullWidth","label","Topbar","PF","process","to","textDecoration","src","alt","Rightbar","trueTags","onTagClick","HomeRightbar","Home","setTags","newTags","loginCall","userCredentials","Login","email","password","required","minLength","Sidebar","setCurrentFriends","getCurrentFriends","currentFriendsList","Profile","useParams","alignment","setAlignment","React","likedPostsVisible","setLikedPostsVisible","yourPostsVisible","setYourPostsVisible","switchToggle","yourPostsVisibility","likedPostsVisibility","ToggleButtonGroup","color","exclusive","onChange","event","newAlignment","ToggleButton","Register","passwordAgain","navigate","useNavigate","handleSubmit","setCustomValidity","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3ef2deff.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        user: action.payload,\n        isFetching: false,\n        error: false,\n      };\n    case \"LOGIN_FAILURE\":\n      return {\n        user: null,\n        isFetching: false,\n        error: action.payload,\n      };\n    case \"FOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          following: [...state.user.following, action.payload],\n        },\n      };\n    case \"UNFOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          following: state.user.following.filter(\n            (following) => following !== action.payload\n          ),\n        },\n      };\n    case \"UPDATE_PROFILE\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          profilePicture: action.payload,\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;\n","import { createContext, useEffect, useReducer } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\n\nconst INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false,\n};\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n  }, [state.user]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { Component } from 'react';\nimport \"./topbar.css\";\n\n\nexport default class UserLogout extends Component {\n \n logout = () => {\n    localStorage.clear();\n// you can also like localStorage.removeItem('Token');\n    window.location.href = \"/register\";\n  }\n \n  render() {\n    return (\n      <button onClick={this.logout}>Log out</button>\n    )\n  }\n}","import \"./post.css\";\nimport { useContext, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { FaRegHeart } from 'react-icons/fa';\nimport { FaBook, FaHeart, FaPlane, FaBasketballBall } from 'react-icons/fa';\nimport { BsFillPeopleFill, BsHouseDoorFill, BsThreeDots, BsStars, BsPenFill } from \"react-icons/bs\";\nimport { ImSad2 } from \"react-icons/im\";\nimport { MdWaterDrop } from \"react-icons/md\";\nimport { GiPartyPopper, GiTeapot } from \"react-icons/gi\";\nimport { IoEarSharp } from \"react-icons/io5\";\nimport { BiDish } from \"react-icons/bi\";\n\nexport default function Post({ post }) {\n  const [likes, setLikes] = useState(post.likes.length);\n  const [isLiked, setIsLiked] = useState(false);\n  const [user, setUser] = useState({});\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  const { user: currentUser } = useContext(AuthContext); // unwrap the user value to alias currentUser\n\n  // check if the post is already liked by the viewing user\n\n  useEffect(() => {\n    setIsLiked(post.likes.includes(currentUser._id));\n  }, [post.likes, currentUser._id]);\n\n  // get the post author's user\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`/users?userId=${post.userId}`);\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [post.userId]);\n\n  // increase the like and update in DB based on states\n\n  const likeHandler = () => {\n    try {\n      axios.put(`/posts/${post._id}/like`, { userId: currentUser._id });\n    } catch (error) {\n      console.log(error);\n    }\n    setLikes(isLiked ? likes - 1 : likes + 1);\n    setIsLiked(!isLiked);\n  };\n\n  const nameToIcon = new Map([\n    ['classes', FaBook],\n    ['roommates', BsFillPeopleFill],\n    ['clubs', FaBasketballBall],\n    ['housing', BsHouseDoorFill],\n    ['relationships', FaHeart],\n    ['food', BiDish],\n    ['travel', FaPlane],\n    ['fun', GiPartyPopper],\n    ['advice', IoEarSharp],\n    ['life', BsPenFill],\n    ['thirst', MdWaterDrop],\n    ['rant', GiTeapot],\n    ['wholesome', BsStars],\n    ['sad', ImSad2],\n    ['miscellaneous', BsThreeDots]\n  ])\n\n  const returnTag = (tagInfo) => {\n    const Icon = nameToIcon.get(tagInfo);\n    return (\n      <span className={\"selected tagElement\"}>\n        <Icon></Icon>\n        <input type=\"button\" className=\"buttonInside\" value={tagInfo}/>\n      </span>\n    );\n  };\n\n  return (\n    <div className=\"post\">\n      <div className=\"postWrapper\">\n        <div className=\"postTop\">\n          <div className=\"postTopLeft\">\n          <div className=\"listContainer\">\n            {post.tags.map((tag, index) => (\n              returnTag(tag)\n            ))}\n          </div>\n          </div>\n          <div className=\"postTopRight\">\n            <span className=\"postDate\">{format(post.createdAt)}</span>\n          </div>\n        </div>\n        <div className=\"postCenter\">\n          <span className=\"postText\">{post.description}</span>\n        </div>\n        <div className=\"postBottom\">\n          <div className=\"postBottomLeft\">\n            {isLiked ? <FaHeart className=\"likeIcon\" onClick={likeHandler}/> : <FaRegHeart className=\"likeIcon\" onClick={likeHandler}/>}\n            <span className={`${isLiked ? \"liked\" : \"\"} postLikeCounter`}>{likes}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./share.css\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useContext, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport { FaBook, FaHeart, FaPlane, FaBasketballBall } from 'react-icons/fa';\nimport { BsFillPeopleFill, BsHouseDoorFill, BsThreeDots, BsStars, BsPenFill } from \"react-icons/bs\";\nimport { ImSad2 } from \"react-icons/im\";\nimport { MdWaterDrop } from \"react-icons/md\";\nimport { GiPartyPopper, GiTeapot } from \"react-icons/gi\";\nimport { IoEarSharp } from \"react-icons/io5\";\nimport { BiDish } from \"react-icons/bi\";\n\nexport default function Share() {\n  const { user } = useContext(AuthContext);\n  const description = useRef();\n\n  const [listOfItems, setListOfItems] = useState([\n    {name: 'classes', isChecked: false},\n    {name: 'roommates', isChecked: false},\n    {name: 'clubs', isChecked: false},\n    {name: 'housing', isChecked: false},\n    {name: 'relationships', isChecked: false},\n    {name: 'food', isChecked: false},\n    {name: 'travel', isChecked: false},\n    {name: 'fun', isChecked: false},\n    {name: 'advice', isChecked: false},\n    {name: 'life', isChecked: false},\n    {name: 'thirst', isChecked: false},\n    {name: 'rant', isChecked: false},\n    {name: 'wholesome', isChecked: false},\n    {name: 'sad', isChecked: false},\n    {name: 'miscellaneous', isChecked: false},\n]);\n\nconst nameToIcon = new Map([\n  ['classes', FaBook],\n  ['roommates', BsFillPeopleFill],\n  ['clubs', FaBasketballBall],\n  ['housing', BsHouseDoorFill],\n  ['relationships', FaHeart],\n  ['food', BiDish],\n  ['travel', FaPlane],\n  ['fun', GiPartyPopper],\n  ['advice', IoEarSharp],\n  ['life', BsPenFill],\n  ['thirst', MdWaterDrop],\n  ['rant', GiTeapot],\n  ['wholesome', BsStars],\n  ['sad', ImSad2],\n  ['miscellaneous', BsThreeDots]\n])\n\n  const updateListOfItems = (itemIndex, newsChecked) => {\n      const updatedListOfItems = [...listOfItems];\n      updatedListOfItems[itemIndex].isChecked = newsChecked;\n      setListOfItems(updatedListOfItems);\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    const tagArray = [];\n    listOfItems.forEach(tagObject => {\n      if (tagObject.isChecked) {\n        tagArray.push(tagObject.name);\n      }\n    });\n\n    const newPost = {\n      userId: user._id,\n      description: description.current.value,\n      tags: tagArray,\n    };\n\n    try {\n      await axios.post(\"/posts\", newPost);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const returnTag = (tagInfo, index) => {\n    const Icon = nameToIcon.get(tagInfo.name);\n    return (\n      <span className={`${tagInfo.isChecked ? \"selected\" : \"\"} tagButton`}>\n        <Icon></Icon>\n        <input type=\"button\" className=\"buttonInside\" value={tagInfo.name} onClick={() => updateListOfItems(index, !tagInfo.isChecked)}/>\n      </span>\n    );\n  };\n\n  return (\n    <div className=\"share\">\n      <div className=\"shareWrapper\">\n        <div className=\"shareTop\">\n          <textarea\n            placeholder={`Share an anonymous confession...`}\n            className=\"shareInput\"\n            ref={description}\n          />\n        </div>\n        <form className=\"shareBottom\" onSubmit={submitHandler}>\n          <div className=\"tagLabel\">\n            ADD TAGS:\n          </div>\n          <div className=\"listContainer\">\n            {listOfItems.map((item, index) => (\n              returnTag(item, index)\n            ))}\n          </div>\n          <div className=\"buttonContainer\">\n            <button className=\"shareButton\" type=\"submit\">\n              Post\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n","import { useContext, useEffect, useState } from \"react\";\nimport Post from \"../post/Post\";\nimport Share from \"../share/Share\";\nimport \"./feed.css\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\nconst qs = require('qs');\n\nexport default function Feed(props) {\n  const [posts, setPosts] = useState([]);\n\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      let res;\n      if (props.username) {\n        if (props.likes) {\n          res = await axios.get(`/posts/likes/${props.username}`);\n        } else {\n          res = await axios.get(`/posts/profile/${props.username}`);\n        }\n      } else if (props.tags.length > 0) {\n        res = await axios.get(\"/posts/timeline/tags\", {\n            params:{\n              tags: props.tags\n            },\n            paramsSerializer: function(params) {\n              return qs.stringify(params, {arrayFormat: 'repeat'})\n            }\n        });\n      } else {\n        res = await axios.get(`/posts/timeline`);\n      }\n      setPosts(\n        res.data.sort((p1, p2) => {\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\n        })\n      );\n    };\n    fetchPosts();\n  }, [props.username, user._id, props.tags, props.likes]);\n\n  return (\n    <div className=\"feed\">\n      <div className=\"feedWrapper\">\n        {(props.username === user.username || !props.username) && <Share />}\n        {posts.map((p) => (\n          <Post key={p._id} post={p} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import TextField from \"@mui/material/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Feed from \"../feed/Feed\";\nimport \"./searchbar.css\";\n\nexport default function Searchbar() {\n  const useStyles = makeStyles(() => ({\n    input1: {\n      height: 10\n    }\n  }));\n  const classes = useStyles();\n  \n   return (\n    <div className=\"main\">\n      <div className=\"search\">\n        <TextField\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          size=\"small\"\n          margin=\"none\" \n          style={{ height: 20 }}\n          fullWidth\n          label=\"Search\"\n          // InputProps={{ classes: { input: classes.input1 } }}\n        />\n      </div>\n      {/* <Feed /> */}\n    </div>\n  );\n}\n\n\n// export default Searchbar;","import \"./topbar.css\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useContext } from \"react\";\nimport Logout from \"../topbar/Logout\";\nimport Searchbar from \"../topbar/Searchbar\";\n\nexport default function Topbar() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  return (\n    <div className=\"topbarContainer\">\n      <div className=\"topbarLeft\">\n        <div className=\"logoWrapper\">\n          <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n          <div className=\"topLeftWrapper\">\n            <img src={\n              PF + \"logo.png\"\n            }\n            alt=\"\" className=\"logo\"/>\n            <span className=\"logo\">Calfessions</span>\n          </div>\n          \n          </Link>\n        </div>\n        <div className=\"search\"><Searchbar /></div>\n      </div>\n      \n      \n\n      <div className=\"topbarRight\">\n        <Link to={`/profile/${user.username}`}>\n          <img\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"person/noAvatar.png\"\n            }\n            alt=\"\"\n            className=\"topbarImg\"\n          />\n        </Link>\n        \n        <Logout />\n        \n      </div>\n    </div>\n  );\n}\n","import \"./rightbar.css\";\nimport { useState } from \"react\";\nimport { FaBook, FaHeart, FaPlane, FaBasketballBall } from 'react-icons/fa';\nimport { BsFillPeopleFill, BsHouseDoorFill, BsThreeDots, BsStars, BsPenFill } from \"react-icons/bs\";\nimport { ImSad2 } from \"react-icons/im\";\nimport { MdWaterDrop } from \"react-icons/md\";\nimport { GiPartyPopper, GiTeapot } from \"react-icons/gi\";\nimport { IoEarSharp } from \"react-icons/io5\";\nimport { BiDish } from \"react-icons/bi\";\n\nexport default function Rightbar(props) {\n  const [listOfItems, setListOfItems] = useState([\n    {name: 'classes', isChecked: false},\n    {name: 'roommates', isChecked: false},\n    {name: 'clubs', isChecked: false},\n    {name: 'housing', isChecked: false},\n    {name: 'relationships', isChecked: false},\n    {name: 'food', isChecked: false},\n    {name: 'travel', isChecked: false},\n    {name: 'fun', isChecked: false},\n    {name: 'advice', isChecked: false},\n    {name: 'life', isChecked: false},\n    {name: 'thirst', isChecked: false},\n    {name: 'rant', isChecked: false},\n    {name: 'wholesome', isChecked: false},\n    {name: 'sad', isChecked: false},\n    {name: 'miscellaneous', isChecked: false},\n]);\n\n  const nameToIcon = new Map([\n    ['classes', FaBook],\n    ['roommates', BsFillPeopleFill],\n    ['clubs', FaBasketballBall],\n    ['housing', BsHouseDoorFill],\n    ['relationships', FaHeart],\n    ['food', BiDish],\n    ['travel', FaPlane],\n    ['fun', GiPartyPopper],\n    ['advice', IoEarSharp],\n    ['life', BsPenFill],\n    ['thirst', MdWaterDrop],\n    ['rant', GiTeapot],\n    ['wholesome', BsStars],\n    ['sad', ImSad2],\n    ['miscellaneous', BsThreeDots]\n  ])\n\n  const updateListOfItems = (itemIndex, newsChecked) => {\n    const updatedListOfItems = [...listOfItems];\n    updatedListOfItems[itemIndex].isChecked = newsChecked;\n    setListOfItems(updatedListOfItems);\n\n    const trueTags = [];\n\n    updatedListOfItems.forEach(tagObject => {\n      if (tagObject.isChecked) {\n        trueTags.push(tagObject.name);\n      }\n    });\n\n    // Parent callback function. Set true tags back to Home.\n    props.onTagClick(trueTags);\n};\n\n  const returnTag = (tagInfo, index) => {\n    const Icon = nameToIcon.get(tagInfo.name);\n    return (\n      <span className={`${tagInfo.isChecked ? \"selectedRight\" : \"\"} tagButtonRight`}>\n        <Icon></Icon>\n        <input type=\"button\" className=\"buttonInside\" value={tagInfo.name} onClick={() => updateListOfItems(index, !tagInfo.isChecked)}/>\n      </span>\n    );\n  };\n\n  const HomeRightbar = () => {\n    return (\n      <>\n        <div className=\"tagsWrapper\">\n        <b className=\"filter\">Filter by</b>\n              <div className=\"tagsContainer\">\n                {listOfItems.map((item, index) => (\n                returnTag(item, index)\n              ))}\n              </div>\n              \n        </div>\n      </>\n    );\n  };\n\n  return (\n    <div className=\"rightbar\">\n      <div className=\"rightbarWrapper\">\n        <HomeRightbar />\n      </div>\n    </div>\n  );\n}","import Topbar from \"../../components/topbar/Topbar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useState } from \"react\";\nimport \"./home.css\";\n\nexport default function Home() {\n  // Array of tags selected.\n  const [tags, setTags] = useState([]);\n\n  // Set parent callback function. (Set tags.)\n  const updateTags = (newTags) => {\n    setTags(newTags);\n  }\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"homeContainer\">\n        <Feed tags={tags}/>\n        <Rightbar onTagClick={updateTags} />\n      </div>\n    </>\n  );\n}\n\n\n \n","import axios from \"axios\";\n\nexport const loginCall = async (userCredentials, dispatch) => {\n  dispatch({ type: \"LOGIN_START\" });\n  try {\n    const res = await axios.post(\"/auth/login\", userCredentials);\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n  } catch (error) {\n    dispatch({ type: \"LOGIN_FAILURE\", payload: error });\n  }\n};\n","import { useContext, useRef } from \"react\";\nimport \"./login.css\";\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Login() {\n  const email = useRef();\n  const password = useRef();\n\n  const { user, isFetching, error, dispatch } = useContext(AuthContext);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    loginCall(\n      { email: email.current.value, password: password.current.value },\n      dispatch\n    );\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Calfessions</h3>\n          <span className=\"loginDesc\">An anonymous place to share your UC Berkeley secrets.</span>\n        </div>\n        <div className=\"loginRight\" onSubmit={handleClick}>\n          <form className=\"loginBox\">\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              required\n              className=\"loginInput\"\n              ref={email}\n            />\n            <input\n              placeholder=\"Password\"\n              type=\"password\"\n              required\n              minLength=\"6\"\n              className=\"loginInput\"\n              ref={password}\n            />\n            <button className=\"loginButton\">\n              {isFetching ? \"Loading...\" : \"Log In\"}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            \n            <Link to=\"/register\" style={{ textDecoration: \"none\" }}>\n              <button className=\"loginRegisterButton\">Create a New Account</button>\n            </Link>\n\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./sidebar.css\";\nimport {\n  RssFeed,\n  Chat,\n  PlayCircleFilledOutlined,\n  Group,\n  Bookmark,\n  HelpOutline,\n  Event,\n} from \"@material-ui/icons\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport CloseFriend from \"../closeFriend/CloseFriend\";\n\nexport default function Sidebar() {\n  const { user: currentUser } = useContext(AuthContext);\n  const [currentFriends, setCurrentFriends] = useState([]);\n\n  useEffect(() => {\n    const getCurrentFriends = async () => {\n      try {\n        const currentFriendsList = await axios.get(\n          `/users/friends/${currentUser._id}`\n        );\n        setCurrentFriends(currentFriendsList.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getCurrentFriends();\n  }, [currentUser._id]);\n\n  return (\n    <div className=\"sidebar\">\n      {/* <div className=\"sidebarWrapper\">\n        <ul className=\"sidebarList\">\n          <li className=\"sidebarListItem\">\n            <RssFeed className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Feed</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Chat className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Chats</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <PlayCircleFilledOutlined className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Videos</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Group className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Groups</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Bookmark className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Bookmarks</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <HelpOutline className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Questions</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Event className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Events</span>\n          </li>\n        </ul>\n        <hr className=\"sidebarHr\" />\n        <ul className=\"sidebarFriendList\">\n          {currentFriends.map((u) => (\n            <CloseFriend key={u._id} user={u} />\n          ))}\n        </ul>\n      </div> */}\n    </div>\n  );\n}\n","import \"./profile.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router\";\nimport { useRef } from \"react\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Profile() {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [user, setUser] = useState({});\n  const [file, setFile] = useState(null);\n  const { dispatch } = useContext(AuthContext);\n  const username = useParams().username;\n  const [alignment, setAlignment] = useState('yourPosts');\n  const handleChange = (event, newAlignment) => {\n    setAlignment(newAlignment);\n  };\n  const [likedPostsVisible, setLikedPostsVisible] = React.useState(false);\n  const [yourPostsVisible, setYourPostsVisible] = React.useState(true);\n\n  const switchToggle = (yourPostsVisibility, likedPostsVisibility) => {\n    setYourPostsVisible(!yourPostsVisibility);\n    setLikedPostsVisible(!likedPostsVisibility);\n  }\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const res = await axios.get(`/users?username=${username}`);\n        setUser(res.data);\n      } catch (error) {\n        window.location.href = \"/\";\n      }\n    };\n    fetchUser();\n  }, [username]);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    const updateFields = {\n      userId: user._id,\n    };\n\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      data.append(\"name\", fileName);\n      data.append(\"file\", file);\n      console.log(fileName);\n      updateFields.profilePicture = fileName;\n      dispatch({ type: \"UPDATE_PROFILE\", payload: fileName });\n      try {\n        await axios.post(\"/upload\", data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    try {\n      await axios.put(`/users/${user._id}`, updateFields);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"profile\">\n        <Sidebar />\n        <div className=\"profileRight\">\n          <div className=\"profileRightTop\">\n              <h1>Your Confessions</h1>\n          </div>\n          <div className=\"toggleWrapper\">\n            <ToggleButtonGroup\n              color=\"primary\"\n              value={alignment}\n              exclusive\n              onChange={handleChange}\n            >\n              <ToggleButton\n                value=\"yourPosts\"\n                onClick={() => switchToggle(yourPostsVisible, likedPostsVisible)}> Your posts\n                  {/* {yourPostsVisible ? 'Hide your posts' : 'Show your posts'} */}\n              </ToggleButton>\n\n              <ToggleButton \n                value=\"likedPosts\"\n                onClick={() => switchToggle(yourPostsVisible, likedPostsVisible)}> Liked posts\n                {/* onClick={() => setLikedPostsVisible(!likedPostsVisible)}> */}\n                  {/* {likedPostsVisible ? 'Hide liked posts' : 'Show liked posts'} */}\n              </ToggleButton>\n            </ToggleButtonGroup>\n            \n          </div>\n          <div className=\"profileRightBottom\">\n            {yourPostsVisible && <div><Feed username={username} /> </div>}\n            {likedPostsVisible && <div><Feed username={username} likes={true}/> </div>}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useRef } from \"react\";\nimport \"./register.css\";\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nexport default function Register() {\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const navigate = useNavigate();\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      password.current.setCustomValidity(\"Passwords don't match\");\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {\n        await axios.post(\"/auth/register\", user);\n        navigate(\"/login\");\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <div className=\"loginLogoWrapper\">\n            <img src={\n              PF + \"logo.png\"\n            } \n            alt=\"\" className=\"logoImg\"/>\n            <h3 className=\"loginLogo\">Calfessions</h3>\n          </div>\n          \n          <span className=\"loginDesc\">An anonymous place to share your UC Berkeley secrets.</span>\n        </div>\n        <div className=\"loginRight\">\n          <div className=\"loginBoxTitle\">Join the Calfessions Community</div>\n          <form className=\"loginBox\" onSubmit={handleSubmit}>\n            <input\n                placeholder=\"Username\"\n                required\n                ref={username}\n                className=\"loginInput\"\n              />\n            <input\n              placeholder=\"Berkeley email (for verification only)\"\n              required\n              ref={email}\n              type=\"email\"\n              className=\"loginInput\"\n            />\n            <input\n              placeholder=\"Password\"\n              required\n              ref={password}\n              type=\"password\"\n              className=\"loginInput\"\n              minLength=\"6\"\n            />\n            <input\n              placeholder=\"Password Again\"\n              required\n              ref={passwordAgain}\n              type=\"password\"\n              className=\"loginInput\"\n            />\n            <button className=\"loginButton\" type=\"submit\">\n              Sign Up\n            </button>\n            <hr></hr>\n            <div className=\"buttonDescrip\">Already have an account?</div>\n            <Link to=\"/login\" style={{ textDecoration: \"none\" }}>\n              <button className=\"loginRegisterButton\">Log in</button>\n            </Link>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from \"react-router-dom\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport { useContext } from \"react\";\n\nfunction App() {\n  const { user } = useContext(AuthContext);\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={user ? <Home /> : <Register />} />\n        <Route path=\"/login\" element={user ? <Navigate to=\"/\" /> : <Login />} />\n        <Route\n          path=\"/register\"\n          element={user ? <Navigate to=\"/\" /> : <Register />}\n        />\n        <Route\n          path=\"/profile/:username\"\n          element={user ? <Profile /> : <Navigate to=\"/login\" />}\n        />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}